<!DOCTYPE html>
<html lang="nl">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <title>Project: bix — geheimesite.nl | Robin Boers</title>

        <link rel="canonical" href="https://geheimesite.nl/projects/bix" />

        <link
            rel="preload"
            href="/v/17/assets/css/main.044b606b3a634b140b1c48842aab5ffbe47008a14a9ae2586a491129de7d15e3.css"
            integrity="sha256-BEtgazpjSxQLHEiEKqtf&#43;&#43;RwCKFKmuJYakkRKd59FeM="
            as="style" />
        <link
            rel="stylesheet"
            href="/v/17/assets/css/main.044b606b3a634b140b1c48842aab5ffbe47008a14a9ae2586a491129de7d15e3.css"
            integrity="sha256-BEtgazpjSxQLHEiEKqtf&#43;&#43;RwCKFKmuJYakkRKd59FeM="
            title="default" />

        <script
            defer
            src="/v/17/assets/js/menu.min.40e4616c9eaf31d91ce9d9bfd39e11cabd20eee88b466229bbb9ccd191587d82.js"
            integrity="sha256-QORhbJ6vMdkc6dm/054Ryr0g7uiLRmIpu7nM0ZFYfYI="></script>
    </head>
    <body>
        <a class="skip-nav" href="#content">Skip navigation</a>
        <header class="page-header">
            <p class="title">
                <a href="/v/17/">Robin Boers</a>
            </p>

            <svg
                style="display: none"
                xmlns="http://www.w3.org/2000/svg"
                class="menu-button"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
                stroke-width="2">
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4 6h16M4 12h16M4 18h16" />
            </svg>

            <nav>
                <ul class="menu">
                    <li><a href="/v/17/">Home</a></li>

                    <li><a href="/v/17/over-mij">Over mij</a></li>

                    <li><a href="/v/17/projecten">Projecten</a></li>

                    <li><a href="/v/17/boeken">Boeken</a></li>

                    <li><a href="https://blog.geheimesite.nl">Blog</a></li>

                    <li>
                        <a class="more-menu-button" href="/v/17/more"
                            >More
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 20 20"
                                fill="currentColor"
                                class="w-3 h-3">
                                <path
                                    fill-rule="evenodd"
                                    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                                    clip-rule="evenodd" />
                            </svg>
                        </a>

                        <ul class="more-menu">
                            <li class="more-menu-heading">More</li>

                            <li><a href="/v/17/contact">Contact</a></li>

                            <li><a href="/v/17/profiel">Profiel</a></li>

                            <li><a href="/v/17/setup">Uses</a></li>

                            <li><a href="/v/17/now">Now</a></li>

                            <li><a href="/v/17/volg">Volg me</a></li>

                            <li><a href="/v/17/abbonementen">Abonnementen</a></li>

                            <li><a href="/v/17/hyperfeed">Hyperfeed</a></li>

                            <li><a href="/v/17/youtube">Videoroll</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </header>
        <main id="content" class="page-content">
            <article>
                <h1>Project: bix</h1>
                <p>Bix is een project manager geschreven in Fish.</p>
                <h2 id="wtf">WTF?</h2>
                <p>
                    Bix is een simpele tool dat package manager wrapt. Waarom?
                    Nou, ik werk met best veel codebases, die allemaal een ander
                    command gebruiken om de webserver te starten, en ik was het
                    zat om perongeluk <code>mix phx.server</code> in een node
                    project, <code>cargo run</code> in een elixir project etc.
                    te runnen.
                </p>
                <p>
                    Daarnaast gebruik ik bix ook om tijd te besparen bij dingen
                    die ik vaak doe. Dit is bijvoorbeeld wat ik normaal run voor
                    het starten van een nieuw project:
                </p>
                <div class="highlight">
                    <pre
                        tabindex="0"
                        style="
                            color: #e6edf3;
                            background-color: #0d1117;
                            -moz-tab-size: 4;
                            -o-tab-size: 4;
                            tab-size: 4;
                        "><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>mkdir lok <span style="color:#ff7b72;font-weight:bold">&amp;&amp;</span> cd lok
</span></span><span style="display:flex;"><span>git init
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># Edits files etc.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#a5d6ff">&#34;Initial commit&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># Opens Gitea to create repo</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git remote add origin git.geheimesite.nl:RobinBoers/lok
</span></span><span style="display:flex;"><span>git branch -M master
</span></span><span style="display:flex;"><span>git push -u origin master
</span></span></code></pre>
                </div>
                <p>Met bix wordt dat ingekort naar:</p>
                <div class="highlight">
                    <pre
                        tabindex="0"
                        style="
                            color: #e6edf3;
                            background-color: #0d1117;
                            -moz-tab-size: 4;
                            -o-tab-size: 4;
                            tab-size: 4;
                        "><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>bix new lok
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># Edit files</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>git add .
</span></span><span style="display:flex;"><span>git commit -m <span style="color:#a5d6ff">&#34;Initial commit&#34;</span>
</span></span><span style="display:flex;"><span>bix create-repo lok <span style="color:#a5d6ff">&#34;Dynamically typed programming language written in Rust&#34;</span>
</span></span><span style="display:flex;"><span>bix link-repo RobinBoers/lok
</span></span></code></pre>
                </div>
                <h2 id="installatie">Installatie</h2>
                <div class="highlight">
                    <pre
                        tabindex="0"
                        style="
                            color: #e6edf3;
                            background-color: #0d1117;
                            -moz-tab-size: 4;
                            -o-tab-size: 4;
                            tab-size: 4;
                        "><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>curl -sSfL https://git.geheimesite.nl/libre0b11/bix/raw/branch/master/install.sh | fish
</span></span></code></pre>
                </div>
                <h2 id="usage">Usage</h2>
                <p>
                    Bix gebruikt user-defined scripts in de
                    <code>.ci</code> directory (ookwel handlers genoemd) om de
                    commands te implementeren. <code>bix build</code> runt
                    bijvoorbeeld <code>.ci/build.sh</code>.
                </p>
                <p>
                    Als er geen handlers aanwezig zijn probeert bix te raden wat
                    voor soort project je gebruikt, en runt op basis daarvan het
                    juiste command.
                </p>
                <p>
                    Daarnaast bevat bix ook wrappers voor bepaalde veelgebruikte
                    git commands:
                </p>
                <ul>
                    <li>
                        <code>bix new &lt;name&gt;</code> initialiseert een
                        nieuwe repo.
                    </li>
                    <li>
                        <code>bix link-repo &lt;org/repo&gt;</code> linkt een
                        nieuwe remote aan de huidige repo.
                    </li>
                    <li>
                        <code>bix push</code> runt <code>git push</code> en runt
                        daarna de deploy handler<sup id="fnref:1"
                            ><a
                                href="#fn:1"
                                class="footnote-ref"
                                role="doc-noteref"
                                >1</a
                            ></sup
                        >
                        in async.
                    </li>
                    <li>
                        <code>bix merge &lt;from&gt; &lt;into&gt;</code> merged
                        de huidige (of <code>from</code>) branch in de
                        <code>into</code> (meestal master) branch.
                    </li>
                </ul>
                <p>
                    En om werken met git nóg makkelijker te maken, heeft bix ook
                    een Gitea integratie:
                </p>
                <ul>
                    <li>
                        <code>bix auth gitea</code> om in te loggen met je Gitea
                        account (de API access token wordt in de keyring
                        opgeslagen).
                    </li>
                    <li>
                        <code>bix create-repo repo --org=org</code> maakt een
                        nieuwe repo in je Gitea account (use &ndash;org
                        parameter om een organisation account te gebruiken).
                    </li>
                </ul>
                <p>
                    En, als je alleen <code>bix</code> runt, wordt het
                    &ldquo;entrypoint&rdquo; gerunt (momenteel gehardcode naar
                    <code>.ci/server.sh</code>). Het zou je app moeten starten.
                </p>
                <p>
                    Als er geen entrypoint is wordt deze net als bij de andere
                    handlers geraden door bix.
                </p>
                <h2 id="configuration">Configuration</h2>
                <p>Je kan bix instellen met environment variables:</p>
                <div class="highlight">
                    <pre
                        tabindex="0"
                        style="
                            color: #e6edf3;
                            background-color: #0d1117;
                            -moz-tab-size: 4;
                            -o-tab-size: 4;
                            tab-size: 4;
                        "><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>set BIX_DEFAULT_BRANCH          <span style="color:#a5d6ff">&#34;master&#34;</span>
</span></span><span style="display:flex;"><span>set BIX_GIT_HOST                <span style="color:#a5d6ff">&#34;git@gitea.your.host&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#8b949e;font-style:italic"># Gitea/Forgejo specific, used for creating repos with the API</span>
</span></span><span style="display:flex;"><span>set BIX_GITEA_API_BASE          <span style="color:#a5d6ff">&#34;https://gitea.your.host/api/v1&#34;</span>
</span></span></code></pre>
                </div>
                <p>
                    <span hidden>Post information</span>
                    <a
                        href="https://git.geheimesite.nl/libre0b11/bix"
                        class="icon">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                            style="fill: currentColor">
                            <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z"></path>
                        </svg>
                        Source code
                    </a>
                </p>
                <div class="footnotes" role="doc-endnotes">
                    <hr />
                    <ol>
                        <li id="fn:1">
                            <p>
                                Ik run mijn CI/CD lokaal omdat ik het zat was
                                GitHub actions in te stellen als alles lokaal al
                                werkt.&#160;<a
                                    href="#fnref:1"
                                    class="footnote-backref"
                                    role="doc-backlink"
                                    >&#x21a9;&#xfe0e;</a
                                >
                            </p>
                        </li>
                    </ol>
                </div>
            </article>
        </main>
        <footer class="page-footer">
            <p class="mb-[1em]">
                &copy; 2023 Robin Boers. Webdesigner en Elixir programmeur sinds
                2017.
            </p>

            <aside class="text-xs">
                Gemaakt met <a href="https://gohugo.io">Hugo v0.119.0</a> •

                <a href="/v/17/volg">Abonneren</a>

                • <a href="/v/17/privacy">Privacy</a>

                • <a href="/v/17/colofon">Colofon</a>

                • <span class="page-size">??? kB</span>
            </aside>
        </footer>
        <script>
            let pageWeight = document.body.innerHTML.length / 1000;
            document.querySelector(
                ".page-size"
            ).innerText = `${pageWeight.toFixed(1)} kB`;
        </script>
    </body>
</html>
